{% extends 'base.html' %}

{% block title %}Resource Library{% endblock %}

{% block content %}
<div class="container mt-4">
    <h2>Resource Library</h2>

    <form method="GET" action="{% url 'subject:resource_library' %}">
        <label for="subject">Choose the Subject:</label>
        <select name="subject" id="subject" onchange="this.form.submit()">
            <option value="">-- Select a Subject --</option>
            {% for subject in subjects %}
                <option value="{{ subject.id }}" {% if subject.id == selected_subject_id %}selected{% endif %}>{{ subject.name }}</option>
            {% endfor %}
        </select>
    </form>

    <h3>Documents</h3>
    <ul>
        {% for document in documents %}
        <li>
            <a href="{{ document.doc_file.url }}">{{ document.doc_title }}</a>
        </li>
        {% empty %}
        <li>No documents available.</li>
        {% endfor %}
    </ul>

    <h3>Videos</h3>
    <ul>
        {% for video in videos %}
        <li>
            <a href="{{ video.vid_file.url }}">{{ video.vid_title }}</a>
        </li>
        {% empty %}
        <li>No videos available.</li>
        {% endfor %}
    </ul>
</div>
{% endblock %}
